---
star: false
order: 4
category:
  - React
tag:
  - React

---

# React组件通信

**单向数据流**

当前组件的 state 以 props 的形式流动时，只能流向组件树中比自己层级更低的组件

| 通信组件         | 方法                                                         | 介绍 |
| ---------------- | ------------------------------------------------------------ | ---- |
| 父->子 组件通信  | 父组件通过**传递 Props** 给子组件                            |      |
| 子->父 组件通信  | 子组件调用父组件**函数参数**：<br />父组件传递给子组件的是一个绑定了自身上下文的函数<br/>那么子组件在调用该函数时就可以将想要交给父组件的数据以函数入参的形式给出去 |      |
| 兄弟组件通信     | **状态提升**：将两个兄弟组件公共状态提升到公共父组件中，通过父组件 props 和 事件传递 |      |
| 跨层级的组件通信 | **Context API**：                                            |      |
| 任意组件通信     | **发布订阅**机制：                                           |      |

在React中，组件间的通信主要通过props和回调函数实现：父组件通过props将数据或函数传递给子组件，子组件则可以通过这些props来接收数据和触发回调函数，从而实现与父组件的通信。

对于跨层级的组件通信，React提供了Context API。Context提供了一种在组件树中共享值的方式，无需显式地通过每一层组件传递props。



## **发布订阅机制**

![image-20240416090235392](../images/image-20240416090235392.png)



------

